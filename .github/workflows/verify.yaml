on:
  schedule:
    # Runs at 04:00 am
    - cron: '0 4 * * *'
  workflow_dispatch:
  # delete this before merging the PR
  pull_request:
# Generates a list of libraries that cannot be
# compiled (printed to the action stdout)
name: Verify libraries compilation
jobs:
  verify:
    runs-on: 'ubuntu-24.04'
    strategy:
      matrix:
        variant: [ 1.26.0, 1.27.0, 1.28.0, 1.29.2, 1.30.1, 1.31.0, 2.0.0 ]
    steps:
      - uses: actions/setup-java@v3
        with:
          distribution: temurin
          java-version: 8
      - uses: actions/checkout@v2
        with:
          path: google-api-java-client-services

      - working-directory: google-api-java-client-services
        run: |
          bash .github/workflows/verify.sh ${{ matrix.variant }}

